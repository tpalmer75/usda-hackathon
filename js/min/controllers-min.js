angular.module("lunch.controllers",[]).controller("MainCtrl",function(e,i,r,n){i.newSubmission={},i.formSubmitted=!1,i.currentPerson=n.idx,i.currentPersonInfo={},i.previousState="",i.resetData=function(){i.newSubmission={children:[{firstName:"",middleInitial:"",lastName:""}],adults:[{firstName:"",middleInitial:"",lastName:""}]}},i.addPerson=function(e){var r={firstName:"",middleInitial:"",lastName:""};switch(e){case"child":i.newSubmission.children.push(r);break;case"adult":i.newSubmission.adults.push(r)}},i.goBack=function(){switch(i.previousState){case"programs":r.go("programs"),i.previousState="home";break;case"child-add":r.go("child-add"),i.previousState="programs";break;case"child-individual":i.currentPerson=parseInt(n.idx),i.currentPerson--,i.newSubmission.children[i.currentPerson]?(r.go("child-individual",{idx:i.currentPerson}),i.currentPersonInfo=i.newSubmission.children[i.currentPerson],i.previousState="child-individual"):(r.go("child-add"),i.previousState="programs")}},i.goNext=function(e){if(e){switch(i.previousState=r.current.name,i.previousState){case"programs":r.go("child-add");break;case"child-add":r.go("child-individual",{idx:0}),i.currentPersonInfo=i.newSubmission.children[0];break;case"child-individual":i.currentPerson=parseInt(n.idx),i.currentPerson++,i.newSubmission.children[i.currentPerson]?(r.go("child-individual",{idx:i.currentPerson}),i.currentPersonInfo=i.newSubmission.children[i.currentPerson]):r.go("adult-add");break;case"adult-add":r.go("adult-individual",{idx:0}),i.currentPersonInfo=i.newSubmission.adults[0]}i.formSubmitted=!1}}});